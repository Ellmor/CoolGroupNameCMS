.container(ng-controller='userController')
    .row
        h1 Admin Panel with CRUD functionality

        table.table.table-bordered(ng-model="Users", ng-init="getUsers()")
            thead
                th  Name
                th Provider
                th UserName
                th Role
                th Update
                th Delete
            tbody
                tr( ng-repeat="user in Users")
                    td {{user.firstName +" " + lastName}}
                    td {{user.provider}}
                    td {{user.username}}
                    td(ng-repeat="role in user.roles") {{role}}
                    td
                        a.btn.btn-success.btn-block(href="/admin/users/edit/{{user._id}}") Edit
                    td
                        button.btn.btn-danger.btn-block(ng-click="deleteUser(user._id)") Delete

        h2 Create user

        form
            div.row
                label Roles
                    br
                    div.col-lg-2
                        div.input-group
                            span.input-group-addon
                                label Admin
                                    input(type="checkbox",  name="roles", value="Admin", ng-model="user.roles.admin")
                    div.col-lg-2
                        div.input-group
                            span.input-group-addon
                                label Commentator
                                     input(type="checkbox",name="roles", value="Commentator", ng-model="user.roles.commentator")
                    div.col-lg-2
                        div.input-group
                            span.input-group-addon
                                label Author
                                     input(type="checkbox", name="roles", value="Author", ng-model="user.roles.author")

            div.form-group
                label(for="name") Username
                    input#name.form-control(type="text", name="name", placeholder="Name", ng-model="user.username", autofocus, required)

            div.form-group
                label(for="password") Password
                    input.form-control(type="password", id="password", name="password", placeholder="Password", ng-model="user.password", required)
            div.form-group
                label(for="firstName") First Name
                    input.form-control(type="text", id="firstName", name="firstName", placeholder="First Name", ng-model="user.firstName")

            div.form-group
                label(for="lastName") Last Name
                    input.form-control(type="text", id="lastName", name="lastName", placeholder="Last Name", ng-model="user.lastName")



             button.btn.btn-small.btn-warning( ng-click="createUser(user)") Create User
